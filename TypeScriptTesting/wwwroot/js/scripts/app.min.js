function SubmitClosestForm(e){e=$(e).closest(".modal-content").find("form");0<e.length?e.submit():$("[type='submit']").hide()}!function(m){function a(e){m("#errorModal").remove(),m(".preloader.checking").hide(),m("body").append(e.popup),m("#errorModal").modal("show")}m.fn.Baladi_load_view=function(e){let u={url:null,data:null,contentType:null,dataType:null,processData:null,traditional:null,methodtype:"GET",target:"",appendtype:"replace",modalTitle:"",popupHasSave:!1,success:function(){},beforeSend:function(){m(".preloader.checking").show()},complete:function(){m(".preloader.checking").hide()}};e&&m.extend(u,e);e={cache:!1,url:u.url,type:u.methodtype,data:u.data,contentType:u.contentType,dataType:u.dataType,processData:u.processData,traditional:u.traditional,beforeSend:u.beforeSend,complete:u.complete};try{var t=m.ajax(e);t.done(function(c,e,t){if("replace"===u.appendtype)m(u.target).empty().html(c);else if("inside"===u.appendtype)m(u.target).append(c);else if("after"===u.appendtype)m(u.target).after(c);else if("before"===u.appendtype)m(u.target).before(c);else{if("html"===u.appendtype)return c;if("popup"===u.appendtype){var i=u.modalTitle;var p=u.popupHasSave;let t="modal-"+Date.now(),e=m(".modal.fade.show"),a=m(`<div class="modal fade" tabindex="-1" role="dialog" id="${t}"></div>`),o=m('<div class="modal-dialog modal-lg" role="document"></div>'),n=m('<div class="modal-content"></div>'),s=m(`<div class="modal-header"><h5 class="modal-title">${i}</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>`),l=m('<div class="modal-body"></div>').html(c),r;r=!0===p&&c.includes("form")?m('<div class="modal-footer flex-row-reverse"><button type="button" class="btn btn-secondary" data-dismiss="modal">إغلاق</button><button type="submit" onclick="SubmitClosestForm(this)" class="btn btn-primary">حفظ</button></div>'):m('<div class="modal-footer flex-row-reverse"><button type="button" class="btn btn-secondary" data-dismiss="modal">إغلاق</button></div>');n.append(s,l,r),o.append(n),a.append(o);let d=m(".modal-backdrop");e.length&&(i=parseInt(d.css("z-index"),10),d.css("z-index",i+31));a.on("hidden.bs.modal",function(){var e=parseInt(d.css("z-index"),10)-31;m(".modal-backdrop").css("z-index",e),m("#"+t).remove()}),a.modal("show"),a.on("shown.bs.modal",function(){var e=m(".modal-backdrop"),e=parseInt(e.first().css("z-index"),10);m("#"+t).css("z-index",e+1)})}}"function"==typeof u.success&&u.success.call(this)}),t.fail(function(t,e,a){var o;try{o=jQuery.parseJSON(t.responseText),console.error(o.Message)}catch(e){console.error("Error parsing response: ",t.responseText)}})}catch(e){console.error(e.message)}return this},m.fn.Baladi_call_action=function(t){let o={url:null,data:null,contentType:null,dataType:null,async:!0,processData:!1,traditional:null,methodtype:"POST",showSuccessmsg:!0,beforeSend:null,success:function(e){},error:function(e){a(e)},complete:null,invalidCallback:function(e){a(e)}};t&&m.extend(o,t);var e={async:o.async,cache:!1,url:o.url,type:o.methodtype,data:o.data,contentType:o.contentType,processData:o.processData,dataType:o.dataType,traditional:o.traditional,beforeSend:function(e){"function"==typeof t.beforeSend?t.beforeSend(e,o):m(".preloader.checking").show()},success:function(e){e.isError?o.invalidCallback&&o.invalidCallback(e):o.success&&o.success(e)},error:function(e,t,a){m(".preloader.checking").hide();e=e.responseJSON||JSON.parse(e.responseText||"{}");console.error(e||a),o.error&&o.error(e)},complete:function(e){"function"==typeof t.complete?t.complete(e,o):m(".preloader.checking").hide()}};try{m.ajax(e)}catch(e){console.error(e.message)}return this}}(jQuery);